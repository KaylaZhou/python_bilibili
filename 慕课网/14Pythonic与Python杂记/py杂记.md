# Python 杂记

## 用字典映射代替 switch case 语句

switch 语句,是条件分支语句.switch 语句后面可接收一个变量,key 是:当变量取某一个值时,应该执行的代码块

### 用字典映射的作用

使代码很简洁

## 列表推导式

- 有条件的筛选元素,进行平方运算

  ```py
  例子:将a中>=5的数字,进行平方

    a = [1, 2, 3, 4, 5, 6]
    b = [i**2 for i in a if i >= 5]

    print(b)

  ```

### 列表推导式的使用

1. 字典编写列表推导式(调用字典的.items()方法,字典 才能被遍历)
2. set 也可以被推导
3. 元组也可以被推导(元组无法打印,需要对 generator 做遍历.因为元组是不可变的)

   ```py
    # 1.列表 输出key值
    student = {
     '喜小乐': 18,
     '石敢当': 20,
     '王小五': 15
    }
      b = [key for key, value in student.items()]

      print(b)

   ```

   ```
   打印结果:['喜小乐', '石敢当', '王小五']
   ```

   ```py
   # 2.字典 输出颠倒的value;key,

      student = {
     '喜小乐': 18,
     '石敢当': 20,
     '王小五': 15
    }
      b = {value: key for key, value in student.items()}

      print(b)

   ```

   ```
   打印结果:{18: '喜小乐', 20: '石敢当', 15: '王小五'}

   ```

   ```py
   # 3.元组 输出key值

      students = {
       '喜小乐': 18,
       '石敢当': 20,
       '王小五': 15
      }
      b = (key for key, value in students.items())
      # 元组无法打印,需要对generator做遍历.因为元组是不可变的
      for x in b:
          print(x)

   ```

   ```
    打印结果:喜小乐
            石敢当
            王小五

    注:不建议使用元组
   ```

## iterator 与 generator

**iterable** 可迭代对象:凡是可以被 for in 循环来遍历的数据结构,如:列表,元组,集合.

iterator `迭代器是`一个`对象`(class).

1. 默认情况下迭代器**不可以**被 **for in 循环遍历**.
2. 迭代器是一个可迭代的对象
   - 可以让 for in 循环遍历的方法是:把定义的 class 对象变为迭代器.
3. 可迭代对象并不一定是迭代器
4. 一次性

### 如何把普通的对象变成迭代器?

- 通过 for in 循环来说遍历?

  - 在普通对象下实现内置函数 `__iter__()`,`__next__()`

- 可以调用 next()方法(注:不能够对列表或元组使用,因不是迭代器)

### 如何多次遍历迭代器?

由于不能多次遍历 for in 循环,因为迭代器具有一次性.

- 1.除非实例化一个新的变量,实现第二次遍历.
- 2.用对象的 copy(深复制 deepcopy,浅复制 copy)

  ```py
   import copy
   变量名=copy.copy(变量名)
  ```

## generator

generator 生成器,是针对函数来说的。
优势：既保证了函数的通用性，又解决了性能问题
生成器的内部的实质是：保存了一个算法，通过算法不断的在 for in 循环里面生成新的数字
